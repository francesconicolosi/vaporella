const express=require("express"),path=require("path"),{Version3Client}=require("jira.js"),app=express(),port=3e3;process.env.NODE_TLS_REJECT_UNAUTHORIZED="0",app.use(express.static(path.join(__dirname,"public"))),app.use(express.json()),app.post("/api/jira/users",(async(e,s)=>{const{jiraBaseUrl:r,jiraApiToken:o,jiraEmail:a}=e.body;console.log(e);const n=new Version3Client({host:r,authentication:{basic:{email:a,apiToken:o}}});try{const e=await n.users.getAllUsers({includeInactive:!1});console.log(e),s.json(e)}catch(e){s.status(500).json({error:e.message}),console.error("Error details:",e.response?e.response.data:e.message)}})),app.listen(3e3,(()=>{console.log("Server running at http://localhost:3000")}));